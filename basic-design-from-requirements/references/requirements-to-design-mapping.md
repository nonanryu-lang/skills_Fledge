# 要件→設計マッピングガイド

## 1. 目的

要件定義書の各要件を、基本設計書のどのセクションに落とし込むかを統一する。

## 2. マッピング表

| 要件カテゴリ | 主な入力例 | 基本設計への反映先 | 出力ID例 |
| --- | --- | --- | --- |
| 業務要件 | 受注フロー、承認フロー | 業務フロー、画面遷移、ユースケース | `FLOW-01` |
| 機能要件（画面） | 検索、登録、一覧、詳細 | 画面一覧、画面項目定義、入力制約 | `SCR-01` |
| 機能要件（連携） | 外部サービス連携、通知 | API設計、連携IF、エラー制御 | `API-01` |
| 機能要件（バッチ） | 日次集計、定期通知 | バッチ設計、実行条件、再実行方針 | `BAT-01` |
| データ要件 | 顧客、注文、履歴 | エンティティ、ER要点、整合性ルール | `ENT-01` |
| 非機能（性能） | 応答2秒以内、同時接続数 | 性能要件、容量見積、ボトルネック対策 | `NFR-P-01` |
| 非機能（可用性） | SLA、RTO/RPO | 可用性設計、バックアップ、障害対応 | `NFR-A-01` |
| 非機能（セキュリティ） | 認証、権限、監査 | 認可モデル、監査ログ、脅威対策 | `NFR-S-01` |
| 運用要件 | 監視、問い合わせ対応 | 監視項目、運用手順、アラート定義 | `OPS-01` |

## 3. トレーサビリティ運用ルール

1. すべての主要要件に `要件ID` を付与する（例: `R-001`）
2. 設計項目には `設計ID` を付与する（例: `SCR-01`）
3. 設計書本文またはトレース表に `R-xxx -> 設計ID` を明記する
4. 1つの要件が複数設計に分かれる場合は分岐を列挙する
5. 対応しない要件は「非対象理由」を残す

## 4. レビュー観点

- 要件は設計へ過不足なく接続されているか
- 設計にしか存在しない暗黙要件がないか
- 用語定義が画面/API/DBで一致しているか
- 非機能要件の責務分担が曖昧ではないか
